/*
Some cool lava game v1.0

Written by muffinshades
Copyright muffinshades 2024 All right reserved
Minified with the Google Closure Compiler
*/

function w(a,c,b,d,f,h,l,n){this.x=c;this.y=b;this.w=f;this.g=d;this.Ua=c;this.Va=b;this.ka={qa:n||h,pa:h,nb:l||h};this.state="def";this.Ja=a;this.ta=function(k,v,F){if(this.visible)if(A.J(this.x,this.y,this.w,this.g,v,F,1,1))switch("def"==this.state&&(this.state="hover"),k){case da:this.state="down";"function"!=typeof this.B||this.disabled||this.B();break;case ea:"function"!=typeof this.eb||this.disabled||this.eb(v,F);break;case fa:this.state="hover","function"!=typeof this.fb||
this.disabled||this.fb(v,F)}else this.state="def"};this.G=function(){var k=this.ka[this.state];"object"!=typeof k&&(k={});-100==this.Ua&&(this.x=200-this.w/2);-100==this.Va&&(this.y=200-this.g/2);var v=k.o?k.o:1;e.fillStyle=k.borderColor?k.borderColor:"#999";e.fillRect(this.x,this.y,this.w,this.g);e.fillStyle=k.backgroundColor?k.backgroundColor:"#fff";var F=this.w-2*v,ha=this.g-2*v;e.fillRect(this.x+v,this.y+v,F,ha);v=k.K?k.K:"#000";e.font=k.font?k.font:"15px Arial";e.fillStyle=v;k=e.measureText(this.Ja);
F=(F-k.width)/2;k=k.actualBoundingBoxAscent+k.actualBoundingBoxDescent;e.fillStyle=v;e.fillText(this.Ja,F+this.x,this.y+(ha-k)/2+k)};x.push(this)}function na(a,c,b,d){this.x=c||0;this.y=b||0;this.j=this.ca=0;this.id=a;this.H=U[this.id];this.item=0;this.duration=d||0;this.T=0;void 0!=this.H&&(this.update=function(){this.T+=.1;this.ca=5*Math.sin(this.T);this.T>2*Math.PI&&(this.T=0);this.H.v?this.H.h?e.drawImage(B,this.H.h.x,this.H.h.y,this.H.h.w,this.H.h.g,this.x,this.y+this.ca,27,27):e.drawImage(B,
this.x,this.y+this.ca,27,27):(e.fillStyle="#000",e.fillRect(this.x,this.y+this.ca,27,27))})}function Q(a){let c=Object.keys(a);for(let b of c)a[b]=!1}var M,N,O,C;function P(a){void 0==R[a]&&(R[a]=!1);return R[a]}function S(a){void 0==T[a]&&(T[a]=!1);return T[a]}function ia(a){switch(a){case "arrowup":return"Up";case "arrowleft":return"Left";case "arrowright":return"Right";case "arrowdown":return"Down";default:return a}}function W(a,c,b,d){b=D[b];e.ja();e.translate(a+13.5,c+13.5);e.rotate(X*d);b.v?
"object"==typeof b.h?e.S(B,1*b.h.x,1*b.h.y,1*b.h.w,1*b.h.g,-13.5,-13.5,28,28):e.S(B,-13.5,-13.5,28,28):(e.fillStyle=b.color||"#000",e.fillRect(-13.5,-13.5,28,28));e.ha()}function ja(a,c,b){"object"!=typeof c&&(c={x:0,y:0});var d=Math.cos(b);b=Math.sin(b);var f=a.x-c.x;a=a.y-c.y;return{x:f*d-a*b+c.x,y:f*b+a*d+c.y}}function V(a,c,b,d){e.beginPath();e.moveTo(a,c);e.lineTo(b,d);e.stroke()}function oa(){for(var a=5,c=[],b=0;b<y.length;b++){0>=y[b].time--&&c.push(b);var d=U[y[b].id];e.drawImage(B,d.h.x,
d.h.y,d.h.w,d.h.g,5,a,27,27);e.fillStyle="#0f0";e.strokeStyle="#000";e.lineWidth=3;e.fillRect(37,6.75+a,y[b].time/y[b].Xa*50,13.5);e.strokeRect(37,6.75+a,50,13.5);a+=32}for(;0<c.length;){c=c.sort(function(f,h){return f-h});b=c[0];d=U[y[b].id];"function"==typeof d.Ga?d.Ga():g=y[b].cb;for(a=b+1;a<c.length;a++)c[a]--;y.splice(b,1);c.shift()}}function ka(){m.Oa();if(Y[0])for(var a=E.aa,c=E.ba,b=0;b<x.length;b++)"object"==typeof x[b]&&x[b].ta(ea,a,c);if(Z[0])for(a=E.aa,c=E.ba,b=0;b<x.length;b++)"object"==
typeof x[b]&&x[b].ta(da,a,c);if(aa[0])for(a=E.aa,c=E.ba,b=0;b<x.length;b++)"object"==typeof x[b]&&x[b].ta(fa,a,c)}(function(a,c){var b=document;window.addEventListener("load",function(){const f=b.createElement("canvas");f.id="c";b.body.appendChild(f)});var d=b.querySelector("#c");d.width=a;d.height=c})(400,400);"use strict";const la=document,z=la.getElementById("c"),ba=z.getContext("2d");var R={},T={},Y={},Z={},aa={},E={aa:0,ba:0};setInterval(function(){"function"==typeof ka&&ka();Q(R);Q(T);Q(Y);
Q(Z);Q(aa)},1E3/60);window.addEventListener("keydown",function(a){a=ia(a.key.toLowerCase());R[a]=!0});window.addEventListener("keyup",function(a){a=ia(a.key.toLowerCase());T[a]=!0});window.addEventListener("mousemove",function(a){Y[a.button]=!0;var c=z.getBoundingClientRect();E.aa=a.pageX-c.left;E.ba=a.pageY-c.top});window.addEventListener("mousedown",function(a){Z[a.button]=!0});window.addEventListener("mouseup",function(a){aa[a.button]=!0});var J="u0000+Ytyw3x09i0Ug20UM1hw0000000r02a000008E0yw00000S08E00000Ug2a000004k0yw00002Z08E000006M2a00000cY0yw00001Mw8E00000B82a000002a0yw00003Ww8E00000r00S00000fG0dw00001I0e400000_E3x000006M0hg00003Ww4k00000r02Z000008E0Lg00000S0bQ00000Ug2Z000004k0Lg00002Z0bQ000006M2Z00000cY0Lg00001MwbQ00000B82Z000002a0Lg00003WwbQ0 D0000+Ytyw3x09i0B820UM1hw7w00000r02a000008E0yw00000S08E00000Ug2a000004k0yw00002Z08E000006M2a00000cY0yw00001Mw8E00000B82a000002a0yw00003Ww8E00000r00S083002a0dw00003Ww3o00000r03x083002a0Ug00003Wwe400000r015083002a0hg00003Ww4k00000r02Z000008E0Lg00000S0bQ00000Ug2Z000004k0Lg00002Z0bQ000006M2Z00000cY0Lg20w01MwbQ0wc008E2Z00000fG0Lg00003f01I0w800s80r083002a06M00003Ww1I00000PM3f08200720PM20M00ywcY00000_E3f00000cY0s820w01Mw720wc008E1Mw0000fG0s800003f09i0w800s82kw83002a0B800003Ww9i00000PM0yw82007208E20M00yw2a00000_E0yw0000cY0_E00001MwfG00000B83Ww00002a0_E00003WwfG0 hw00Pv+5r00S08E0B820Og0Ew4M00000hg0000000bQ00000000r00000000PM00000007200000002kw00000008E0000000fG0000000150dw0w400PM3o08100720S020g02kwdw0w4008E3o00000fG0S000001506M00000_E1I00000dw0yw00001I08E00000yw2a000003o0yw00003x08E00000hg2a00000bQ0yw00000r08E00000_E2a00000dw0dw00003Ww3o00000S03x00000fG0Ug00003o04k00000r015000008E0hg00000S04k00000Ug15000004k0hg00002Z04k000006M1500000cY0hg20M02kw4k000008E1500000fG0hg00003f0bQ0wc00B82Z000002a0Lg20w03WwbQ0w000S00r080006M06M20002a01I0w000dw0r08000e406M20001501I0w000Lg0r080001I06M00003f01I0wc00B80r000002a06M20w03Ww1I00000S03f000006M0PM00002a0cY00000dw3f00000e40PM0000150cY00000Lg3f000001I0PM00003f0cY0wc00B83f000002a0PM00003WwcY00000S01Mw82006M0s820g0150720w400Lg1Mw81001I0s800003Ww7200000S02kw82006M0B800003Ww9i00000S00yw82006M08E00w02a02a0w000hg0yw8000bQ08E20000r02a00000_E0yw0000dw0_E00001I0fG00000yw3Ww00003o0_E00003x0fG00000hg3Ww0000bQ0_E00000r0fG00000PM3Ww0000720_E00002kwfG000008E3Ww0000fG0_E200020002j09g0 _w00kv_VB82a0720s800mw0107w00000S000000006M00000002a00000000S03o000008E0S000001Mwdw00000B83o000002a0S000003o06M00000yw1I00000720r020g02kw6M000008E1I00000000yw00003o08E00000yw2a000003o0yw00003x08E00000hg2a00000bQ0yw00000r08E00000PM2a00000720yw00000yw8E00000000S00000bQ0dw20g00r03o0w400PM0S00000720dw00000yw3o00000003x000006M0Ug00002a0e400000dw3x08200e40Ug00002Z0e400000s83x000002a0Ug00000004k00000dw1508200e40hg00002Z04k00000s815000002a0hg0000000bQ00000S02Z082006M0Lg00000S0bQ0w800Ug2Z000002a0Lg00000001I00000dw0r08200e406M20000r01I0w000PM0r000002a06M0000000cY0wc00yw3f000003o0PM00003x0cY00000hg3f00000bQ0PM00000r0cY00000PM3f00000720PM00002kwcY000008E3f00000000s820M02kw7200c008E1Mw0000000B820003o09i0w000r02kw80008E0B820000S09i0w000Ug2kw80004k0B820002Z09i0w0006M2kw8000cY0B820001Mw9i00c008E2kw00000008E00003o02a00000r00yw00008E08E00000S02a00c00Ug0yw03004k08E00M02Z02a00c006M0yw0300cY08E00M01Mw2a00c00B80yw03002a08E30002000370eU00000r030w20j01M0K00 v000Ev_Vr02a02a08E20Sw2V06800000S01I000006M0r000002a06M00000dw1I00000e40r000001506M00000Lg1I000001I0r000003f06M00000s81I000009i0r000000yw6M00000_E1I000005W0r000003o08E0w400Lg2a081001I0yw20g03f08E0w400s82a000005W0yw00003o03o0w000yw0S080003o0dw20003x03o0wc008E0S00300fG0dw00001uw3o00000S03x000006M0Ug00002a0e400000dw3x00000e40Ug0000150e400000Lg3x000001I0Ug00003f0e400000s83x083002a0Ug00M03Wwe400000nE3x00000720hg00001uw4k00000s82Z003009i0Lg20w00ywbQ00000nE2Z000007206M00001uw1I00000s83f020002a0PM00001uwcY00000s81Mw00009i0s800003Ww7200000nE1Mw00009i0B800003Ww9i00000B80yw0000fG08E00002kwfG000008E3Ww0000fG0_E200030001Qw3E0 Zw00cvZhr02a04k0Lg200w1R04M00000S03o000006M0S000002a0dw00000dw3o00000e40S00000150dw00000Lg3o000001I0S000003f0dw00000s83o000009i0S000000ywdw00000_E3o00000dw0r000000S06M0w400hg1I08100bQ0r020g00r06M0w400PM1I08100720r020g02kw6M0w4008E1I00000fG0r000003o08E00000dw2a08200e40yw20002Z08E0w0006M2a08000cY0yw20002kw8E0w0008E2a00000fG0yw00003o03o0w400dw0S083004k0dw00g02Z03o004006M0S00100cY0dw00002kw3o000008E0S00000fG0dw00003o0e40w000dw3x08000e40Ug00g02Z0e40wc008E3x00000fG0Ug00003o04k00000r015000008E0hg00000S04k00000Ug15000004k0hg00002Z04k0w8006M1508300cY0hg00001Mw4k00000B815000002a0hg00003Ww4k00800S02Z083006M0Lg00g02a0bQ0w800dw2Z00000bQ0Lg00w03WwbQ00800S00r081008E06M20003x01I0w400hg0r00200bQ06M00w00r01I00800PM0r002007206M20w02kw1I0wc008E0r00200fG06M00w03o0cY0wc00dw3f00200e40PM20w0150cY00800Lg3f00200fG0PM00w03o0720w000yw1Mw8100e40s800w02Z0720w8006M1Mw8300cY0s800w01Mw7200800B81Mw02002a0s800w03Ww7200800S02kw83006M0B800g02a09i0w800dw2kw0200bQ0B800w01Mw9i00800S00yw02007208E00w03o0fG00800r03Ww02008E0_E00w00S0fG00800Ug3Ww02004k0_E00w02Z0fG008006M3Ww0200cY0_E00w01MwfG0M000M000v832080002s0782wbU0a04a0 bw00000Gr01I0cY0r020Cw1901g00000S03o000006M0S000002a0dw00000dw3o00000e40S000M0150dw00c00Lg3o003001I0S000M03f0dw00c00s83o003009i0S000M00ywdw00000S01I003003o0r000000r06M00c008E1I00000dw0yw20g00S08E000006M2a00100cY0yw20w01Mw8E0wc00B82a003002a0yw00M03Ww8E00000S00S003006M0dw20w02a03o0wc00Ug0S003004k0dw00002Z03o000006M0S00100cY0dw00M03Ww3o00c00S03x080003o0Ug00002Z0e40w4006M3x00100cY0Ug00g01Mwe40w800B83x083002a0Ug00g03Wwe400400nE3x00300dw0hg00M00S04k00000Lg1500100cY0hg00g01uw4k00c00S02Z000008E0Lg00000S0bQ00000Ug2Z000004k0Lg20w02Z0bQ0w400PM2Z001009i0Lg00g00ywbQ00400_E2Z001005W0Lg00M03o01I00000yw0r08000cY06M00g01uw1I00000S03f000008E0PM20g0150cY00400Lg3f001001I0PM00g03f0cY00400s83f001009i0PM00g00ywcY00400nE3f00000dw0s800002a07200400dw1Mw8200e40s820g02Z072004006M1Mw0100cY0s800g00yw7200400nE1Mw0000dw0B800002a09i00400dw2kw0100e40B820w01509i0w4006M2kw0100cY0B800g00yw9i00400nE2kw0000dw08E00002a02a00000dw0yw0000e408E00001502a0w800Lg0yw0100cY08E00M00yw2a0w000_E0yw01005W08E00003o0fG0w0006M3Ww0100cY0_E00M00ywfG00c00_E3Ww03005W0_E00003o05W00000r01uw00008E0nE00000S05W00000Ug1uw00004k0nE00g02Z05W004006M1uw0100cY0nE0g003000150c80w000Wg3F000009M0KE20003j07a00000nw3X040003203g00002swaI081v0_E1500 Mg00nL__Lg2Z0e40B8204M0p01g00800000000200dw00000w01I00000800yw00002003o00000w03x00000c00hg0000300bQ00000M00r00000c00PM00003007200000M02kw0000c008E0000300fG00000w0000dw0w400S03o00300fG0S000w00006M0wc00r01I000008E0r000000S06M00000Ug1I000004k0r000w02Z06M008006M1I00200cY0r000w01Mw6M0w800B81I083002a0r000M03Ww6M00800002a000006M0yw00M03Ww8E00800000S000006M0dw00000S03o00000Ug0S000004k0dw00w00r03o00800PM0S00200720dw20w02kw3o0wc008E0S00200fG0dw00M0000e400000r03x000003o0Ug00003x0e400000hg3x000001I0Ug00003f0e40w800s83x083002a0Ug00M03Wwe400c000015000006M0hg00000S04k0w800Ug1500000cY0hg20w01Mw4k0wc008E1500300fG0hg00M0000bQ00000r02Z000003o0Lg20w03x0bQ00000PM2Z00200720Lg20w02kwbQ00c00_E2Z003000006M00001I01I00000dw0r08200e406M00003f01I0wc008E0r00300fG06M00M0000cY00000r03f000003o0PM00003x0cY00000hg3f00000bQ0PM00000r0cY00000PM3f00200720PM20w02kwcY00c00_E3f00300000s800001I07200000dw1Mw0000e40s80000150720w000PM1Mw83002a0s800M03Ww7200c00002kw00006M0B800001509i0wc006M2kw0300cY0B820w01Mw9i00c00_E2kw03000008E00001I02a00000yw0yw00003o08E00003x02a00000hg0yw8100cY08E20002kw2a00c00_E0yw0300000_E20M01MwfG00800B83Ww82002a0_E00M03WwfG00c00001uw0300dw0nE00M01I05W00c00yw1uw03003o0nE00M03x05W00c00hg1uw0300bQ0nE00M00r05W00c00PM1uw0300720nE00w02kw5W00c008E1uw0300fG0nE3w0020003Iw7w0g000H82y0c0003w0Z000000U0fG0g000GM2Gw20Lw3i0B820bU3cw240".split(" "),
D=[{id:0,color:"#17d83f",Ra:!0,connected:!0,o:3,borderColor:"#17be3a",v:!1},{id:1,color:"",v:!0,h:{x:0,y:38,w:9,g:9},Ea:!0,P:{x:3,y:5,w:3,g:3}},{id:2,rb:!0},{id:3,qb:!0,v:!0,h:{x:9,y:52,w:9,g:9}},{id:4,xa:!0,v:!0,h:{x:9,y:38,w:9,g:9}}],U=[{id:0,v:!0,h:{x:32,y:16,w:9,g:9},effect:function(){g.speed=Math.abs(g.speed);g.dir=1;1!=g.mode&&(g.F=p.x);g.mode=1},M:!1},{id:1,v:!0,h:{x:41,y:16,w:9,g:9},effect:function(){g.speed=-Math.abs(g.speed);g.dir=-1;1!=g.mode&&(g.F=p.x);g.mode=1},M:!1},{id:2,v:!0,h:{x:50,
y:16,w:9,g:9},effect:function(){g.speed=-Math.abs(g.speed);g.dir=-1;0!=g.mode&&(g.F=p.y);g.mode=0},M:!1},{id:3,v:!0,h:{x:59,y:16,w:9,g:9},effect:function(){g.speed=Math.abs(g.speed);g.dir=1;0!=g.mode&&(g.F=p.y);g.mode=0},M:!1},{id:4,v:!0,h:{x:68,y:16,w:9,g:9},effect:function(){this.hb=g.speed;g.speed=0},Ga:function(){g.speed=Math.abs(this.hb)*Math.sign(g.dir)},M:!0},{id:5,v:!0,h:{x:76,y:16,w:9,g:9},effect:function(){g.speed*=.5},M:!0}],e=ba,da=0,ea=1,fa=2,X=Math.PI/2;E.frameRate=60;var B=function(a){var c=
la.createElement("img");c.src=a;return c}("https://codehs.com/uploads/9cb895dfc2d796afaa0b31d1d4a43da8");e.S=function(a,c,b,d,f,h,l,n,k){var v=!0;void 0==h&&(v=!1);v?ba.drawImage(a,c,b,d,f,h,l,n,k):ba.drawImage(a,c,b,d,f,void 0,void 0,void 0,void 0)};var u=[];e.ja=function(){e.na={Ca:e.getTransform()}};e.ha=function(){"object"==typeof this.na&&this.na.Ca&&e.setTransform(this.na.Ca)};var ca={table:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_+",Qa:function(a,c,b){for(var d=0,f=0;f<
b;f++)d|=a[c++],d<<=1;return d>>1},encode:function(a){for(var c="",b=[],d,f=0;f<a.length;f++){d=a[f];for(var h=0;8>h;h++)b.push(d>>h&1)}for(f=0;f<b.length;f+=6)c+=this.table[this.Qa(b,f,f>=b.length?6-(f-b.length):6)];return c},decode:function(a){for(var c=[],b,d=0;d<a.length;d++){b=this.table.indexOf(a[d]);for(var f=0;6>f;f++)c.push(b>>5-f&1)}a=[];for(f=0;f<c.length;f+=8){b=0;d=f>=c.length?8-(f-c.length):8;for(var h=0;h<d;h++)b|=c[f+h]<<h;a.push(b)}return a}},r={l:function(a,c,b){var d=0;for(b=c+
b-1;b>=c;)d|=a[b--],d<<=8;return d>>8},Ia:function(a,c){for(var b=[],d=0;d<c;d++)b.push(a&255),a>>=8;return b}},A={J:function(a,c,b,d,f,h,l,n){return a<f+l&&a+b>f&&c<h+n&&c+d>h}},K=[],y=[],L={},q,G,H={},ma={},t={},I={active:!1},g={spacing:200,F:200,mode:1,speed:1,wa:{x:23,y:8,w:6,g:3,ya:6},offset:0,color:"#f29833"},m={I:null,s:null,Fa:{backgroundColor:"#fff",da:{x:0,y:0},ua:{x:100,y:100}},C:this.Fa,save:[],ma:function(a){y=[];K=[];p.m=p.j=0;p.i.U=p.i.d=p.i.r=p.i.R=!1;u=[];for(var c=0;15>c;c++){u[c]=
[];for(var b=0;15>b;b++)u[c][b]=null}if(0>a||a>=J.length)console.error("Could not load level ["+a+"]");else if(null==J[a])this.s=null,this.I=a;else{c=ca.decode(J[a]);b=3;var d=r.l(c,0,3),f=c[b++],h=c[b++],l=c[b++];this.C.backgroundColor="rgb("+f+","+h+","+l+")";this.C.da.x=r.l(c,b,2);b+=2;this.C.da.y=r.l(c,b,2);b+=2;this.C.ua.x=r.l(c,b,2);b+=2;this.C.ua.y=r.l(c,b,2);b+=2;g.mode=c[b++];g.F=r.l(c,b,2);b+=2;g.spacing=r.l(c,b,2);b+=2;g.speed=r.l(c,b,2)/100;b+=2;for(var n,k=0;k++<d&&b<c.length;)if(n=c[b++],
l=r.l(c,b,2),b+=2,f=r.l(c,b,2)/27,b+=2,h=r.l(c,b,2)/27,b+=2,0>f||0>h||15<=f||15<=h)console.log("Error, failed to load tile!");else{var v=D[n];u[h][f]={id:n,X:l};v.xa&&(u[h][f].D={x:0,y:0})}this.I=a;this.s=null;p.x=this.C.da.x;p.y=this.C.da.y;if(!(b>=c.length))for(a=r.l(c,b,3),b+=3;0<a&&b<c.length;)n=c[b++],l=r.l(c,b,2),b+=2,f=Math.floor(r.l(c,b,2)),b+=2,h=Math.floor(r.l(c,b,2)),b+=2,"number"==typeof n&&void 0!=U[n]&&K.push(new na(n,f,h,l))}},u:function(a){var c=this.s;this.s=a;if("function"==typeof H[this.s]&&
!ma[this.s])H[this.s]();"string"==typeof this.s&&"function"==typeof t[this.s].show&&t[this.s].show();ma[this.s]=!0;c&&"function"==typeof H[c]&&"function"==typeof t[c].N&&t[c].N()},Ba:function(a){this.I=null;this.u(a)},Ma:function(){this.C=this.Fa;m.u("main")},Oa:function(){"number"==typeof this.I&&(e.fillStyle=this.C.backgroundColor,e.fillRect(0,0,400,400),e.tb=!1,e.pb=!1,e.imageSmoothingEnabled=!1,this.Wa());if(this.s&&"function"==typeof L[this.s])L[this.s]()},La:function(){var a=this.I;this.Ba("levels");
null!=a&&(this.save[a]=this.L.oa,this.Aa());"number"==typeof a&&a+1<J.length&&this.ma(a+1)},L:{locked:0,za:1,oa:2},la:function(){for(var a=0;a<J.length;a++)this.save[a]=this.L.locked;1<=this.save.length&&(this.save[0]=this.L.za)},Na:function(){"object"!=typeof localStorage&&this.la();var a=localStorage.getItem("_g_stat_save");if(null==a)this.la();else{a=ca.decode(a);console.log(a);var c=0,b=r.l(a,c,4);c+=4;var d=r.l(a,c,2),f;for(f=0;f<d;f++)this.save[f]=0;console.log("Loading Save ["+d+"]");c+=2;
var h=0,l;do{var n=a[c++]^b;for(l=0;h<d&&8>l;)f=n>>l&3,l+=2,console.log("Save State: "+f,n),this.save[h++]=f}while(c<a.length)}},Aa:function(){for(var a=[],c=0,b=Math.floor(4294967295*Math.random()),d=0;d<this.save.length;){for(var f=0;4>f;)c|=(this.save[d++]&3)<<2*f++;a.push(c^b)}a=r.Ia(b,4).concat(r.Ia(this.save.length,2).concat(a));a=ca.encode(a);console.log(a);"object"==typeof localStorage&&localStorage.setItem("_g_stat_save",a)},lb:function(){this.save[this.I]=this.L.oa;this.I+1<J.length&&(this.save[this.I+
1]=this.L.za)}},x=[],p={x:0,y:0,w:24,g:24,m:0,j:0,ra:1,Sa:2.5,Ta:5,mb:!1,speed:5,h:{x:0,y:0,w:8,g:8},i:{U:!1,d:!1,R:!1,r:!1},v:!1,color:"#f00",controls:{Ka:"Up",qa:"Down",left:"Left",right:"Right"},update:function(){this.gb();this.speed=this.Da?this.Sa:this.Ta;this.x+=this.m;this.y+=this.j;this.i.R&&this.m>-this.speed&&(this.m+=-this.speed);this.i.r&&this.m<this.speed&&(this.m+=this.speed);this.i.U&&this.j>-this.speed&&(this.j+=-this.speed);this.i.d&&this.j<this.speed&&(this.j+=this.speed);Math.abs(this.m>
this.speed)&&(this.m=this.speed*Math.sign(this.m));Math.abs(this.j>this.speed)&&(this.j=this.speed*Math.sign(this.j));this.i.R||this.i.r||(this.m=0);this.i.U||this.i.d||(this.j=0);this.Za();this.$a();this.bb()},gb:function(){this.v||(e.fillStyle="#f00",e.strokeStyle="#900",e.lineWidth=5,e.strokeRect(this.x,this.y,this.w,this.g),e.fillRect(this.x,this.y,this.w,this.g))},Za:function(){P(this.controls.Ka)&&(this.i.U=!0);P(this.controls.qa)&&(this.i.d=!0);P(this.controls.left)&&(this.i.R=!0);P(this.controls.right)&&
(this.i.r=!0);P("shift")&&(this.Da=!0);P("escape")&&(I.active?m.u(null):m.u("pause"),I.active=!I.active)},$a:function(){S(this.controls.Ka)&&(this.i.U=!1);S(this.controls.qa)&&(this.i.d=!1);S(this.controls.left)&&(this.i.R=!1);S(this.controls.right)&&(this.i.r=!1);S("shift")&&(this.Da=!1)},ib:function(a,c,b){D[a.id].Ra&&(a=27*c,b*=27,A.J(this.x+this.m,this.y,this.w,this.g,a,b,27,27)&&(this.m=0,this.x=this.x<a?a-this.w:a+27+1),A.J(this.x,this.y+this.j,this.w,this.g,a,b,27,27)&&(this.j=0,this.y=this.y<
b?b-this.g:b+27+1))},kb:function(a,c,b){if(D[a.id].xa)return c=27*c+a.D.x,b=27*b+a.D.y,"object"!=typeof a.sa&&(a.sa={}),A.J(this.x,this.y+this.j,this.w,this.g,c,b,27,27)&&(a.D.y+=this.j,a.sa.y=this.j),A.J(this.x+this.m,this.y,this.w,this.g,c,b,27,27)&&(a.D.x+=this.m,a.sa.x=this.m),a},jb:function(a,c,b){var d=D[a.id];if(d.Ea){c*=27;var f=27*b;if("object"==typeof d.P&&void 0==a.O){b={x:c+13.5,y:f+13.5};c+=3*d.P.x;var h=f+3*d.P.y;f=ja({x:c,y:h},b,a.X*X);d=ja({x:c+3*d.P.w,y:h+3*d.P.g},b,a.X*X);a.O={x:f.x,
y:f.y,w:d.x-f.x,g:d.y-f.y}}A.J(this.x,this.y,this.w,this.g,a.O.x,a.O.y,a.O.w,a.O.g)&&this.Ha();return a}},Ha:function(){this.ra--;console.log("!");0>=this.ra&&(m.ma(m.I),this.ra=1)},bb:function(){var a=g.spacing,c=g.F;g.A={};switch(g.mode){case 0:g.A.x=0;g.A.y=c-a/2;g.A.w=400;g.A.g=a;break;default:g.A.x=c-a/2,g.A.y=0,g.A.w=a,g.A.g=400}A.J(this.x,this.y,this.w,this.g,g.A.x,g.A.y,g.A.w,g.A.g)||this.Ha()},ob:null,Ya:function(a){if(!A.J(this.x,this.y,this.w,this.g,a.x,a.y,27,27))return!1;a.H.M&&y.push({time:a.duration,
cb:structuredClone(g),Xa:a.duration,id:a.id});a.H.effect();return!0}},pa={sb:3,update:function(){var a=m.C.ua;W(a.x,a.y,3,0);A.J(a.x,a.y,27,27,p.x,p.y,p.w,p.g)&&m.La()}};m.Wa=function(){for(var a=[],c,b=0;15>b;b++)for(var d=0;15>d;d++)null!=(c=u[b][d])&&(D[c.id].xa?("object"!=typeof c.D&&(c.D={x:0,y:0}),c=p.kb(c,d,b),W(27*d+c.D.x,27*b+c.D.y,c.id,c.X)):(W(27*d,27*b,c.id,c.X),D[c.id].connected&&a.push({x:d,y:b}),54>Math.sqrt(Math.pow(p.x-27*d,2)+Math.pow(p.y-27*b,2))&&(p.ib(c,d,b),D[c.id].Ea&&p.jb(c,
d,b))),u[b][d]=c);for(c=0;c<a.length;c++)if(b=a[c],d=b.x,b=b.y,null!=u[b][d]){var f=D[u[b][d].id];if(f.connected){var h=u[b][d].id;e.strokeStyle=f.borderColor;e.lineWidth=f.o;e.lineCap="square";f=27*d;var l=27*b;0<d&&(null==u[b][d-1]||u[b][d-1].id!=h)&&V(f,l,f,l+27);14>d&&(null==u[b][d+1]||u[b][d+1].id!=h)&&V(f+27,l,f+27,l+27);0<b&&(null==u[b-1][d]||u[b-1][d].id!=h)&&V(f,l,f+27,l);14>b&&(null==u[b+1][d]||u[b+1][d].id!=h)&&V(f,l+27,f+27,l+27)}}p.update();for(a=0;a<K.length;a++)K[a].hidden||(K[a].update(),
K[a].hidden=p.Ya(K[a]));pa.update();if(0==g.mode){a=g.F;l=a-g.spacing/2;var n=a+g.spacing/2;a=g.wa;d=3*a.w;b=z.width/d;c=3*a.g;h=-d-g.offset;for(f=0;f<b+2;f++)e.ja(),e.translate(f*d+d/2+h,l+c/2),e.rotate(Math.PI),e.S(B,a.x,a.y,a.w,a.g,-d/2,-c/2,d,c),e.ha(),e.drawImage(B,a.x,a.y,a.w,a.g,f*d+h,n,d,3*a.g);e.fillStyle=g.color;e.fillRect(0,0,z.width,l);e.fillRect(0,n+c,z.width,z.height-n)}else{a=g.F;l=a-g.spacing/2;n=a+g.spacing/2;a=g.wa;var k=2*a.ya;d=3*a.w;c=3*a.g;b=z.height/c;h=-d-g.offset;for(f=0;f<
b+2;f++)e.ja(),e.translate(l+k/2,f*d+d/2+h),e.rotate(Math.PI/2),e.S(B,a.x,a.y,a.w,a.ya,-k/2,-d/2,d,k),e.ha(),e.ja(),e.translate(n+k/2,f*d+d/2+h),e.rotate(-Math.PI/2),e.S(B,a.x,a.y,a.w,a.ya,-k/2,-d/2,d,k),e.ha();e.fillStyle=g.color;e.fillRect(0,0,l+a.g,z.height);e.fillRect(n+.75*k,0,z.width-n,z.height)}g.offset=(g.offset+1)%(3*g.wa.w);g.F+=g.speed;oa()};H.$=function(){var a=125,c={o:1,borderColor:"rgb(0,50,175)",backgroundColor:"rgb(0,100,200)",font:"25px Arial",K:"#fff"},b={o:1,borderColor:"rgb(0,50,175)",
backgroundColor:"rgb(0,50,100)",font:"25px Arial",K:"#fff"};q={};q.ea=new w("Play",-100,a+=50,45,150,c,b);q.fa=new w("New Save",-100,a+=50,45,150,c,b);q.W=new w("Controls",-100,a+=50,45,150,c,b);q.ea.B=function(){m.u("levels")};q.fa.B=function(){m.u("resetWarning")};q.W.B=function(){m.u("_controlMenu")}};t.$={};t.$.show=function(){q.ea.visible=!0;q.fa.visible=!0;q.W.visible=!0};t.$.N=function(){q.ea.visible=!1;q.fa.visible=!1;q.W.visible=!1};L.$=function(){e.fillStyle="rgb(0,200,255)";e.fillRect(0,
0,400,400);e.fillStyle="#fff";e.strokeStyle="#000";e.font="35px Arial";e.lineWidth=5;e.strokeText("Cool Game Thing",45,110);e.fillText("Cool Game Thing",45,110);"number"!=typeof q.va&&(q.va=0);q.va+=.1;e.fillStyle="#f00";e.strokeStyle="#900";e.lineWidth=6;e.fillStyle="#fff";e.font="15px Arial";e.fillText("Version 0.0.1",5,15);q.ea.G();q.fa.G();q.W.G()};H.Z=function(){C=[];var a=5,c=5,b=new w("<",a,c,50,50,{o:3,font:"25px Arial"},{o:3,font:"25px Arial",backgroundColor:"#bbb"});b.B=function(){m.u("main")};
C.push(b);a+=55;for(b=0;b<J.length;b++){var d=new w((b+1).toString(),a,c,50,50,{o:3,font:"25px Arial"},{o:3,font:"25px Arial",backgroundColor:"#bbb"});d.Pa=b;d.B=function(){m.ma(this.Pa)};C.push(d);a+=55;345<a&&(a=5,c+=55)}t.Z={};t.Z.N=function(){for(var f=0;f<C.length;f++)C[f].visible=!1};t.Z.show=function(){for(var f=0;f<C.length;f++)C[f].visible=!0}};L.Z=function(){e.fillStyle="#9f9";e.fillRect(0,0,400,400);for(var a=0;a<C.length;a++){var c=C[a];if(0<a)switch(m.save[a-1]){case m.L.locked:c.ka.pa.backgroundColor=
"#ccc";c.disabled=!0;break;case m.L.za:c.ka.pa.backgroundColor="#fff";c.disabled=!1;break;case m.L.oa:c.ka.pa.backgroundColor="#fb0",c.disabled=!1}c.G()}};setTimeout(function(){m.Ma();m.Na()},100);H.pause=function(){var a=100,c={font:"15px Arial",K:"#fff",borderColor:"rgb(0,50,175)",backgroundColor:"rgb(0,100,200)"},b={font:"15px Arial",K:"#fff",borderColor:"rgb(0,50,175)",backgroundColor:"rgb(0,50,100)"};G={};G.ia=new w("Resume",-100,a+=40,35,150,c,b);G.ia.B=function(){I.active=!1;m.u(null)};var d=
G;d.Y=new w("Exit",-100,a+=40,35,150,c,b);d.Y.B=function(){m.Ba();I.active=!1;m.u("levels")}};L.pause=function(){e.globalAlpha=.5;e.fillStyle="#000";e.fillRect(0,0,400,400);e.globalAlpha=1;var a=G;a.ia.G();a.Y.G()};t.pause={};t.pause.N=function(){var a=G;a.ia.visible=!1;a.Y.visible=!1;g.speed=I.ab;"number"!=typeof g.speed&&(g.speed=0)};t.pause.show=function(){var a=G;G.ia.visible=!0;a.Y.visible=!0;I.active=!0;I.ab=g.speed;g.speed=0};H.ga=function(){O=N=void 0;N=new w("Yes",95,300,35,100,{font:"25px Arial",
K:"#fff",o:3,borderColor:"#0b0",backgroundColor:"#0f0"},{font:"25px Arial",K:"#ddd",o:3,borderColor:"#0d0",backgroundColor:"#0b0"});O=new w("No",200,300,35,100,{font:"25px Arial",K:"#fff",o:3,borderColor:"#b00",backgroundColor:"#f00"},{font:"25px Arial",K:"#ddd",o:3,borderColor:"#d00",backgroundColor:"#b00"});N.B=function(){m.la();"object"==typeof localStorage&&localStorage.setItem("_g_stat_save_bak",localStorage.getItem("_g_stat_save"));m.Aa();m.u("main")};O.B=function(){m.u("main")}};L.ga=function(){e.fillStyle=
"#999";e.fillRect(0,0,400,400);e.fillStyle="#fff";e.font="20px Arial";e.fillText("WARNING! This will reset ALL",50,50);e.fillText("of your progress!",50,75);e.fillText("Do you want to proceed?",50,125);N.G();O.G()};t.ga={};t.ga.N=function(){N.visible=!1;O.visible=!1};t.ga.show=function(){N.visible=!0;O.visible=!0};H.V=function(){M=void 0;M=new w("<",5,5,35,35,{backgroundColor:"#fff",o:3,borderColor:"#999",font:"20px Arial"},{backgroundColor:"#bbb",o:3,borderColor:"#777",font:"20px Arial"});M.B=function(){m.u("main")}};
L.V=function(){e.fillStyle="rgb(255,200,255)";e.fillRect(0,0,400,400);e.fillStyle="#fff";e.font="20px Arial";e.fillText("Move: arrow keys",100,50);e.fillText("Pause: Esc",100,75);e.fillText("Crouch / Slow: Shift",100,100);M.G()};t.V={};t.V.show=function(){M.visible=!0};t.V.N=function(){M.visible=!1}